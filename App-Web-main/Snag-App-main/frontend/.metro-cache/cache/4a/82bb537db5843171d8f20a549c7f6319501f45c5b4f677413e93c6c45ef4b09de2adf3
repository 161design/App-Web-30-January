{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('authToken');\n        const storedUser = await AsyncStorage.default.getItem('authUser');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n\n          // Configure axios default header\n          axios.default.defaults.headers.common['Authorization'] = `Bearer ${storedToken}`;\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        setToken(access_token);\n        setUser(userData);\n        await AsyncStorage.default.setItem('authToken', access_token);\n        await AsyncStorage.default.setItem('authUser', JSON.stringify(userData));\n        axios.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      setToken(null);\n      setUser(null);\n      await AsyncStorage.default.removeItem('authToken');\n      await AsyncStorage.default.removeItem('authUser');\n      delete axios.default.defaults.headers.common['Authorization'];\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":117,"map":[[15,2,25,0,"Object"],[15,8,25,0],[15,9,25,0,"defineProperty"],[15,23,25,0],[15,24,25,0,"exports"],[15,31,25,0],[16,4,25,0,"enumerable"],[16,14,25,0],[17,4,25,0,"get"],[17,7,25,0],[17,18,25,0,"get"],[17,19,25,0],[18,6,25,0],[18,13,25,0,"AuthProvider"],[18,25,25,0],[19,4,25,0],[20,2,25,0],[21,2,89,0,"Object"],[21,8,89,0],[21,9,89,0,"defineProperty"],[21,23,89,0],[21,24,89,0,"exports"],[21,31,89,0],[22,4,89,0,"enumerable"],[22,14,89,0],[23,4,89,0,"get"],[23,7,89,0],[23,18,89,0,"get"],[23,19,89,0],[24,6,89,0],[24,13,89,0,"useAuth"],[24,20,89,0],[25,4,89,0],[26,2,89,0],[27,2,95,2],[27,6,95,2,"_expoVirtualEnv"],[27,21,95,2],[27,24,95,2,"require"],[27,31,95,2],[27,32,95,2,"_dependencyMap"],[27,46,95,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,3,26],[33,6,3,26,"_reactJsxDevRuntime"],[33,25,3,26],[33,28,3,26,"require"],[33,35,3,26],[33,36,3,26,"_dependencyMap"],[33,50,3,26],[34,2,5,0],[34,8,5,6,"BACKEND_URL"],[34,19,5,17],[34,22,5,17,"_expoVirtualEnv"],[34,37,5,17],[34,38,5,17,"env"],[34,41,5,17],[34,42,5,17,"EXPO_PUBLIC_BACKEND_URL"],[34,65,5,55],[35,2,23,0],[35,8,23,6,"AuthContext"],[35,19,23,17],[35,35,23,20],[35,39,23,20,"createContext"],[35,45,23,33],[35,46,23,33,"createContext"],[35,59,23,33],[35,61,23,63,"undefined"],[35,70,23,72],[35,71,23,73],[36,2,25,7],[36,8,25,13,"AuthProvider"],[36,20,25,66],[36,23,25,69,"AuthProvider"],[36,24,25,70],[37,4,25,72,"children"],[38,2,25,81],[38,3,25,82],[38,8,25,87],[39,4,25,87,"_s"],[39,6,25,87],[40,4,26,2],[40,10,26,8],[40,11,26,9,"user"],[40,15,26,13],[40,17,26,15,"setUser"],[40,24,26,22],[40,25,26,23],[40,28,26,26],[40,32,26,26,"useState"],[40,38,26,34],[40,39,26,34,"useState"],[40,47,26,34],[40,49,26,48],[40,53,26,52],[40,54,26,53],[41,4,27,2],[41,10,27,8],[41,11,27,9,"token"],[41,16,27,14],[41,18,27,16,"setToken"],[41,26,27,24],[41,27,27,25],[41,30,27,28],[41,34,27,28,"useState"],[41,40,27,36],[41,41,27,36,"useState"],[41,49,27,36],[41,51,27,52],[41,55,27,56],[41,56,27,57],[42,4,28,2],[42,10,28,8],[42,11,28,9,"isLoading"],[42,20,28,18],[42,22,28,20,"setIsLoading"],[42,34,28,32],[42,35,28,33],[42,38,28,36],[42,42,28,36,"useState"],[42,48,28,44],[42,49,28,44,"useState"],[42,57,28,44],[42,59,28,45],[42,63,28,49],[42,64,28,50],[43,4,30,2],[43,8,30,2,"useEffect"],[43,14,30,11],[43,15,30,11,"useEffect"],[43,24,30,11],[43,26,30,12],[43,32,30,18],[44,6,31,4,"loadStoredAuth"],[44,20,31,18],[44,21,31,19],[44,22,31,20],[45,4,32,2],[45,5,32,3],[45,7,32,5],[45,9,32,7],[45,10,32,8],[46,4,34,2],[46,10,34,8,"loadStoredAuth"],[46,24,34,22],[46,27,34,25],[46,33,34,25,"loadStoredAuth"],[46,34,34,25],[46,39,34,37],[47,6,35,4],[47,10,35,8],[48,8,36,6],[48,14,36,12,"storedToken"],[48,25,36,23],[48,28,36,26],[48,34,36,32,"AsyncStorage"],[48,46,36,44],[48,47,36,44,"default"],[48,54,36,44],[48,55,36,45,"getItem"],[48,62,36,52],[48,63,36,53],[48,74,36,64],[48,75,36,65],[49,8,37,6],[49,14,37,12,"storedUser"],[49,24,37,22],[49,27,37,25],[49,33,37,31,"AsyncStorage"],[49,45,37,43],[49,46,37,43,"default"],[49,53,37,43],[49,54,37,44,"getItem"],[49,61,37,51],[49,62,37,52],[49,72,37,62],[49,73,37,63],[50,8,39,6],[50,12,39,10,"storedToken"],[50,23,39,21],[50,27,39,25,"storedUser"],[50,37,39,35],[50,39,39,37],[51,10,40,8,"setToken"],[51,18,40,16],[51,19,40,17,"storedToken"],[51,30,40,28],[51,31,40,29],[52,10,41,8,"setUser"],[52,17,41,15],[52,18,41,16,"JSON"],[52,22,41,20],[52,23,41,21,"parse"],[52,28,41,26],[52,29,41,27,"storedUser"],[52,39,41,37],[52,40,41,38],[52,41,41,39],[54,10,43,8],[55,10,44,8,"axios"],[55,15,44,13],[55,16,44,13,"default"],[55,23,44,13],[55,24,44,14,"defaults"],[55,32,44,22],[55,33,44,23,"headers"],[55,40,44,30],[55,41,44,31,"common"],[55,47,44,37],[55,48,44,38],[55,63,44,53],[55,64,44,54],[55,67,44,57],[55,77,44,67,"storedToken"],[55,88,44,78],[55,90,44,80],[56,8,45,6],[57,6,46,4],[57,7,46,5],[57,8,46,6],[57,15,46,13,"error"],[57,20,46,18],[57,22,46,20],[58,8,47,6,"console"],[58,15,47,13],[58,16,47,14,"error"],[58,21,47,19],[58,22,47,20],[58,43,47,41],[58,45,47,43,"error"],[58,50,47,48],[58,51,47,49],[59,6,48,4],[59,7,48,5],[59,16,48,14],[60,8,49,6,"setIsLoading"],[60,20,49,18],[60,21,49,19],[60,26,49,24],[60,27,49,25],[61,6,50,4],[62,4,51,2],[62,5,51,3],[63,4,53,2],[63,10,53,8,"login"],[63,15,53,13],[63,18,53,16],[63,24,53,16,"login"],[63,25,53,23,"email"],[63,30,53,36],[63,32,53,38,"password"],[63,40,53,54],[63,45,53,59],[64,6,54,4],[64,10,54,8],[65,8,55,6],[65,14,55,12,"response"],[65,22,55,20],[65,25,55,23],[65,31,55,29,"axios"],[65,36,55,34],[65,37,55,34,"default"],[65,44,55,34],[65,45,55,35,"post"],[65,49,55,39],[65,50,55,40],[65,53,55,43,"BACKEND_URL"],[65,64,55,54],[65,81,55,71],[65,83,55,73],[66,10,56,8,"email"],[66,15,56,13],[67,10,57,8,"password"],[68,8,58,6],[68,9,58,7],[68,10,58,8],[69,8,60,6],[69,14,60,12],[70,10,60,14,"access_token"],[70,22,60,26],[71,10,60,28,"user"],[71,14,60,32],[71,16,60,34,"userData"],[72,8,60,43],[72,9,60,44],[72,12,60,47,"response"],[72,20,60,55],[72,21,60,56,"data"],[72,25,60,60],[73,8,62,6,"setToken"],[73,16,62,14],[73,17,62,15,"access_token"],[73,29,62,27],[73,30,62,28],[74,8,63,6,"setUser"],[74,15,63,13],[74,16,63,14,"userData"],[74,24,63,22],[74,25,63,23],[75,8,65,6],[75,14,65,12,"AsyncStorage"],[75,26,65,24],[75,27,65,24,"default"],[75,34,65,24],[75,35,65,25,"setItem"],[75,42,65,32],[75,43,65,33],[75,54,65,44],[75,56,65,46,"access_token"],[75,68,65,58],[75,69,65,59],[76,8,66,6],[76,14,66,12,"AsyncStorage"],[76,26,66,24],[76,27,66,24,"default"],[76,34,66,24],[76,35,66,25,"setItem"],[76,42,66,32],[76,43,66,33],[76,53,66,43],[76,55,66,45,"JSON"],[76,59,66,49],[76,60,66,50,"stringify"],[76,69,66,59],[76,70,66,60,"userData"],[76,78,66,68],[76,79,66,69],[76,80,66,70],[77,8,68,6,"axios"],[77,13,68,11],[77,14,68,11,"default"],[77,21,68,11],[77,22,68,12,"defaults"],[77,30,68,20],[77,31,68,21,"headers"],[77,38,68,28],[77,39,68,29,"common"],[77,45,68,35],[77,46,68,36],[77,61,68,51],[77,62,68,52],[77,65,68,55],[77,75,68,65,"access_token"],[77,87,68,77],[77,89,68,79],[78,6,69,4],[78,7,69,5],[78,8,69,6],[78,15,69,13,"error"],[78,20,69,23],[78,22,69,25],[79,8,70,6],[79,14,70,12],[79,18,70,16,"Error"],[79,23,70,21],[79,24,70,22,"error"],[79,29,70,27],[79,30,70,28,"response"],[79,38,70,36],[79,40,70,38,"data"],[79,44,70,42],[79,46,70,44,"detail"],[79,52,70,50],[79,56,70,54],[79,70,70,68],[79,71,70,69],[80,6,71,4],[81,4,72,2],[81,5,72,3],[82,4,74,2],[82,10,74,8,"logout"],[82,16,74,14],[82,19,74,17],[82,25,74,17,"logout"],[82,26,74,17],[82,31,74,29],[83,6,75,4,"setToken"],[83,14,75,12],[83,15,75,13],[83,19,75,17],[83,20,75,18],[84,6,76,4,"setUser"],[84,13,76,11],[84,14,76,12],[84,18,76,16],[84,19,76,17],[85,6,77,4],[85,12,77,10,"AsyncStorage"],[85,24,77,22],[85,25,77,22,"default"],[85,32,77,22],[85,33,77,23,"removeItem"],[85,43,77,33],[85,44,77,34],[85,55,77,45],[85,56,77,46],[86,6,78,4],[86,12,78,10,"AsyncStorage"],[86,24,78,22],[86,25,78,22,"default"],[86,32,78,22],[86,33,78,23,"removeItem"],[86,43,78,33],[86,44,78,34],[86,54,78,44],[86,55,78,45],[87,6,79,4],[87,13,79,11,"axios"],[87,18,79,16],[87,19,79,16,"default"],[87,26,79,16],[87,27,79,17,"defaults"],[87,35,79,25],[87,36,79,26,"headers"],[87,43,79,33],[87,44,79,34,"common"],[87,50,79,40],[87,51,79,41],[87,66,79,56],[87,67,79,57],[88,4,80,2],[88,5,80,3],[89,4,82,2],[89,24,83,4],[89,28,83,4,"_reactJsxDevRuntime"],[89,47,83,4],[89,48,83,4,"jsxDEV"],[89,54,83,4],[89,56,83,5,"AuthContext"],[89,67,83,16],[89,68,83,17,"Provider"],[89,76,83,25],[90,6,83,26,"value"],[90,11,83,31],[90,13,83,33],[91,8,83,35,"user"],[91,12,83,39],[92,8,83,41,"token"],[92,13,83,46],[93,8,83,48,"login"],[93,13,83,53],[94,8,83,55,"logout"],[94,14,83,61],[95,8,83,63,"isLoading"],[96,6,83,73],[96,7,83,75],[97,6,83,75,"children"],[97,14,83,75],[97,16,84,7,"children"],[98,4,84,15],[99,6,84,15,"fileName"],[99,14,84,15],[99,16,84,15,"_jsxFileName"],[99,28,84,15],[100,6,84,15,"lineNumber"],[100,16,84,15],[101,6,84,15,"columnNumber"],[101,18,84,15],[102,4,84,15],[102,11,85,26],[102,12,85,27],[103,2,87,0],[103,3,87,1],[104,2,87,2,"_s"],[104,4,87,2],[104,5,25,13,"AuthProvider"],[104,17,25,66],[105,2,25,66,"_c"],[105,4,25,66],[105,7,25,13,"AuthProvider"],[105,19,25,66],[106,2,89,7],[106,8,89,13,"useAuth"],[106,15,89,20],[106,18,89,23,"useAuth"],[106,19,89,23],[106,24,89,29],[107,4,89,29,"_s2"],[107,7,89,29],[108,4,90,2],[108,10,90,8,"context"],[108,17,90,15],[108,20,90,18],[108,24,90,18,"useContext"],[108,30,90,28],[108,31,90,28,"useContext"],[108,41,90,28],[108,43,90,29,"AuthContext"],[108,54,90,40],[108,55,90,41],[109,4,91,2],[109,8,91,6,"context"],[109,15,91,13],[109,20,91,18,"undefined"],[109,29,91,27],[109,31,91,29],[110,6,92,4],[110,12,92,10],[110,16,92,14,"Error"],[110,21,92,19],[110,22,92,20],[110,67,92,65],[110,68,92,66],[111,4,93,2],[112,4,94,2],[112,11,94,9,"context"],[112,18,94,16],[113,2,95,0],[113,3,95,1],[114,2,95,2,"_s2"],[114,5,95,2],[114,6,89,13,"useAuth"],[114,13,89,20],[115,2,89,20],[115,6,89,20,"_c"],[115,8,89,20],[116,2,89,20,"$RefreshReg$"],[116,14,89,20],[116,15,89,20,"_c"],[116,17,89,20],[117,0,89,20],[117,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qECwB;YCK;GDE;yBEE;GFiB;gBGE;GHmB;iBIE;GJM;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}