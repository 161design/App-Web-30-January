{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return f}});var t=r(d[0]),u=e(r(d[1])),n=e(r(d[2])),o=r(d[3]);const s=process.env.EXPO_PUBLIC_BACKEND_URL,l=(0,t.createContext)(void 0),c=({children:e})=>{const[c,f]=(0,t.useState)(null),[h,w]=(0,t.useState)(null),[v,y]=(0,t.useState)(!0);(0,t.useEffect)(()=>{_()},[]);const _=async()=>{try{const e=await u.default.getItem('authToken'),t=await u.default.getItem('authUser');e&&t&&(w(e),f(JSON.parse(t)),n.default.defaults.headers.common.Authorization=`Bearer ${e}`)}catch(e){console.error('Error loading auth:',e)}finally{y(!1)}};return(0,o.jsx)(l.Provider,{value:{user:c,token:h,login:async(e,t)=>{try{const o=await n.default.post(`${s}/api/auth/login`,{email:e,password:t}),{access_token:l,user:c}=o.data;w(l),f(c),await u.default.setItem('authToken',l),await u.default.setItem('authUser',JSON.stringify(c)),n.default.defaults.headers.common.Authorization=`Bearer ${l}`}catch(e){throw new Error(e.response?.data?.detail||'Login failed')}},logout:async()=>{w(null),f(null),await u.default.removeItem('authToken'),await u.default.removeItem('authUser'),delete n.default.defaults.headers.common.Authorization},isLoading:v},children:e})},f=()=>{const e=(0,t.useContext)(l);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e}});","lineCount":1,"map":[[1,143,25,0,"Object"],[1,150,25,0,"defineProperty"],[1,165,25,0,"_e"],[1,168,25,0],[1,184,25,0,"enumerable"],[1,196,25,0],[1,198,25,0,"get"],[1,202,25,0],[1,220,25,0,"AuthProvider"],[1,221,25,0],[1,225,89,0,"Object"],[1,232,89,0,"defineProperty"],[1,247,89,0,"_e"],[1,250,89,0],[1,261,89,0,"enumerable"],[1,273,89,0],[1,275,89,0,"get"],[1,279,89,0],[1,297,89,0,"useAuth"],[1,298,89,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"axios"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,3,26,"_reactJsxRuntime"],[1,344,3,26,"r"],[1,346,3,26,"d"],[1,348,3,26],[1,352,5,0],[1,358,5,6,"BACKEND_URL"],[1,360,5,20,"process"],[1,368,5,28,"env"],[1,372,5,32,"EXPO_PUBLIC_BACKEND_URL"],[1,396,23,6,"AuthContext"],[1,399,23,20],[1,401,23,20,"createContext"],[1,403,23,33,"createContext"],[1,423,23,63,"undefined"],[1,426,25,13,"AuthProvider"],[1,428,25,69,"AuthProvider"],[1,430,25,72,"children"],[1,445,26,2],[1,451,26,9,"user"],[1,453,26,15,"setUser"],[1,457,26,26],[1,459,26,26,"useState"],[1,461,26,34,"useState"],[1,471,26,48],[1,478,27,9,"token"],[1,480,27,16,"setToken"],[1,484,27,28],[1,486,27,28,"useState"],[1,488,27,36,"useState"],[1,498,27,52],[1,505,28,9,"isLoading"],[1,507,28,20,"setIsLoading"],[1,511,28,36],[1,513,28,36,"useState"],[1,515,28,44,"useState"],[1,526,28,45],[1,530,30,2],[1,532,30,2,"useEffect"],[1,534,30,11,"useEffect"],[1,545,30,12],[1,550,31,4,"loadStoredAuth"],[1,555,32,5],[1,559,34,2],[1,565,34,8,"loadStoredAuth"],[1,567,34,25,"async"],[1,577,35,4],[1,581,36,6],[1,587,36,12,"storedToken"],[1,595,36,32,"AsyncStorage"],[1,597,36,44,"default"],[1,605,36,45,"getItem"],[1,613,36,53],[1,626,37,12,"storedUser"],[1,634,37,31,"AsyncStorage"],[1,636,37,43,"default"],[1,644,37,44,"getItem"],[1,652,37,52],[1,664,39,10,"storedToken"],[1,667,39,25,"storedUser"],[1,671,40,8,"setToken"],[1,673,40,17,"storedToken"],[1,676,41,8,"setUser"],[1,678,41,16,"JSON"],[1,683,41,21,"parse"],[1,689,41,27,"storedUser"],[1,693,44,8,"axios"],[1,695,44,13,"default"],[1,703,44,14,"defaults"],[1,712,44,23,"headers"],[1,720,44,31,"common"],[1,727,44,53],[1,741,44,57],[1,751,44,67,"storedToken"],[1,755,46,4],[1,756,46,6],[1,762,46,13,"error"],[1,765,47,6,"console"],[1,773,47,14,"error"],[1,779,47,20],[1,801,47,43,"error"],[1,803,48,4],[1,804,48,5],[1,812,49,6,"setIsLoading"],[1,815,49,19],[1,817,50,4],[1,820,82,2],[1,827,83,4],[1,829,83,4,"_reactJsxRuntime"],[1,831,83,4,"jsx"],[1,836,83,5,"AuthContext"],[1,838,83,17,"Provider"],[1,847,83,25],[1,848,83,26,"value"],[1,854,83,33],[1,855,83,35,"user"],[1,862,83,41,"token"],[1,870,83,48,"login"],[1,876,53,16,"async"],[1,882,53,23,"email"],[1,884,53,38,"password"],[1,889,54,4],[1,893,55,6],[1,899,55,12,"response"],[1,907,55,29,"axios"],[1,909,55,34,"default"],[1,917,55,35,"post"],[1,922,55,40],[1,925,55,43,"BACKEND_URL"],[1,944,55,73],[1,945,56,8,"email"],[1,953,57,8,"password"],[1,967,60,12,"access_token"],[1,980,60,14,"access_token"],[1,982,60,28,"user"],[1,987,60,34,"userData"],[1,990,60,47,"response"],[1,992,60,56,"data"],[1,997,62,6,"setToken"],[1,999,62,15,"access_token"],[1,1002,63,6,"setUser"],[1,1004,63,14,"userData"],[1,1013,65,12,"AsyncStorage"],[1,1015,65,24,"default"],[1,1023,65,25,"setItem"],[1,1031,65,33],[1,1043,65,46,"access_token"],[1,1052,66,12,"AsyncStorage"],[1,1054,66,24,"default"],[1,1062,66,25,"setItem"],[1,1070,66,33],[1,1081,66,45,"JSON"],[1,1086,66,50,"stringify"],[1,1096,66,60,"userData"],[1,1100,68,6,"axios"],[1,1102,68,11,"default"],[1,1110,68,12,"defaults"],[1,1119,68,21,"headers"],[1,1127,68,29,"common"],[1,1134,68,51],[1,1148,68,55],[1,1158,68,65,"access_token"],[1,1161,69,4],[1,1162,69,6],[1,1168,69,13,"error"],[1,1171,70,6],[1,1177,70,12],[1,1181,70,16,"Error"],[1,1187,70,22,"error"],[1,1189,70,28,"response"],[1,1199,70,38,"data"],[1,1205,70,44,"detail"],[1,1213,70,54],[1,1228,71,4],[1,1231,83,55,"logout"],[1,1238,74,17,"async"],[1,1248,75,4,"setToken"],[1,1250,75,13],[1,1256,76,4,"setUser"],[1,1258,76,12],[1,1270,77,10,"AsyncStorage"],[1,1272,77,22,"default"],[1,1280,77,23,"removeItem"],[1,1291,77,34],[1,1310,78,10,"AsyncStorage"],[1,1312,78,22,"default"],[1,1320,78,23,"removeItem"],[1,1331,78,34],[1,1350,79,11,"axios"],[1,1352,79,16,"default"],[1,1360,79,17,"defaults"],[1,1369,79,26,"headers"],[1,1377,79,34,"common"],[1,1384,79,56],[1,1399,83,63,"isLoading"],[1,1412,83,75,"children"],[1,1421,84,7,"children"],[1,1426,89,13,"useAuth"],[1,1428,89,23,"useAuth"],[1,1433,90,2],[1,1439,90,8,"context"],[1,1442,90,18],[1,1444,90,18,"useContext"],[1,1446,90,28,"useContext"],[1,1458,90,29,"AuthContext"],[1,1461,91,2],[1,1469,91,18,"undefined"],[1,1473,91,6,"context"],[1,1475,92,4],[1,1481,92,10],[1,1485,92,14,"Error"],[1,1491,92,20],[1,1538,94,2],[1,1545,94,9,"context"],[1,1547,95,2],[1,1550]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qECwB;YCK;GDE;yBEE;GFiB;gBGE;GHmB;iBIE;GJM;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}