{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('authToken');\n        const storedUser = await AsyncStorage.default.getItem('authUser');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n\n          // Configure axios default header\n          axios.default.defaults.headers.common['Authorization'] = `Bearer ${storedToken}`;\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        setToken(access_token);\n        setUser(userData);\n        await AsyncStorage.default.setItem('authToken', access_token);\n        await AsyncStorage.default.setItem('authUser', JSON.stringify(userData));\n        axios.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      setToken(null);\n      setUser(null);\n      await AsyncStorage.default.removeItem('authToken');\n      await AsyncStorage.default.removeItem('authUser');\n      delete axios.default.defaults.headers.common['Authorization'];\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":107,"map":[[13,2,25,0,"Object"],[13,8,25,0],[13,9,25,0,"defineProperty"],[13,23,25,0],[13,24,25,0,"exports"],[13,31,25,0],[14,4,25,0,"enumerable"],[14,14,25,0],[15,4,25,0,"get"],[15,7,25,0],[15,18,25,0,"get"],[15,19,25,0],[16,6,25,0],[16,13,25,0,"AuthProvider"],[16,25,25,0],[17,4,25,0],[18,2,25,0],[19,2,89,0,"Object"],[19,8,89,0],[19,9,89,0,"defineProperty"],[19,23,89,0],[19,24,89,0,"exports"],[19,31,89,0],[20,4,89,0,"enumerable"],[20,14,89,0],[21,4,89,0,"get"],[21,7,89,0],[21,18,89,0,"get"],[21,19,89,0],[22,6,89,0],[22,13,89,0,"useAuth"],[22,20,89,0],[23,4,89,0],[24,2,89,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,5,0],[31,8,5,6,"BACKEND_URL"],[31,19,5,17],[31,22,5,20,"process"],[31,29,5,27],[31,30,5,28,"env"],[31,33,5,31],[31,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[31,57,5,55],[32,2,23,0],[32,8,23,6,"AuthContext"],[32,19,23,17],[32,35,23,20],[32,39,23,20,"createContext"],[32,45,23,33],[32,46,23,33,"createContext"],[32,59,23,33],[32,61,23,63,"undefined"],[32,70,23,72],[32,71,23,73],[33,2,25,7],[33,8,25,13,"AuthProvider"],[33,20,25,66],[33,23,25,69,"AuthProvider"],[33,24,25,70],[34,4,25,72,"children"],[35,2,25,81],[35,3,25,82],[35,8,25,87],[36,4,26,2],[36,10,26,8],[36,11,26,9,"user"],[36,15,26,13],[36,17,26,15,"setUser"],[36,24,26,22],[36,25,26,23],[36,28,26,26],[36,32,26,26,"useState"],[36,38,26,34],[36,39,26,34,"useState"],[36,47,26,34],[36,49,26,48],[36,53,26,52],[36,54,26,53],[37,4,27,2],[37,10,27,8],[37,11,27,9,"token"],[37,16,27,14],[37,18,27,16,"setToken"],[37,26,27,24],[37,27,27,25],[37,30,27,28],[37,34,27,28,"useState"],[37,40,27,36],[37,41,27,36,"useState"],[37,49,27,36],[37,51,27,52],[37,55,27,56],[37,56,27,57],[38,4,28,2],[38,10,28,8],[38,11,28,9,"isLoading"],[38,20,28,18],[38,22,28,20,"setIsLoading"],[38,34,28,32],[38,35,28,33],[38,38,28,36],[38,42,28,36,"useState"],[38,48,28,44],[38,49,28,44,"useState"],[38,57,28,44],[38,59,28,45],[38,63,28,49],[38,64,28,50],[39,4,30,2],[39,8,30,2,"useEffect"],[39,14,30,11],[39,15,30,11,"useEffect"],[39,24,30,11],[39,26,30,12],[39,32,30,18],[40,6,31,4,"loadStoredAuth"],[40,20,31,18],[40,21,31,19],[40,22,31,20],[41,4,32,2],[41,5,32,3],[41,7,32,5],[41,9,32,7],[41,10,32,8],[42,4,34,2],[42,10,34,8,"loadStoredAuth"],[42,24,34,22],[42,27,34,25],[42,33,34,25,"loadStoredAuth"],[42,34,34,25],[42,39,34,37],[43,6,35,4],[43,10,35,8],[44,8,36,6],[44,14,36,12,"storedToken"],[44,25,36,23],[44,28,36,26],[44,34,36,32,"AsyncStorage"],[44,46,36,44],[44,47,36,44,"default"],[44,54,36,44],[44,55,36,45,"getItem"],[44,62,36,52],[44,63,36,53],[44,74,36,64],[44,75,36,65],[45,8,37,6],[45,14,37,12,"storedUser"],[45,24,37,22],[45,27,37,25],[45,33,37,31,"AsyncStorage"],[45,45,37,43],[45,46,37,43,"default"],[45,53,37,43],[45,54,37,44,"getItem"],[45,61,37,51],[45,62,37,52],[45,72,37,62],[45,73,37,63],[46,8,39,6],[46,12,39,10,"storedToken"],[46,23,39,21],[46,27,39,25,"storedUser"],[46,37,39,35],[46,39,39,37],[47,10,40,8,"setToken"],[47,18,40,16],[47,19,40,17,"storedToken"],[47,30,40,28],[47,31,40,29],[48,10,41,8,"setUser"],[48,17,41,15],[48,18,41,16,"JSON"],[48,22,41,20],[48,23,41,21,"parse"],[48,28,41,26],[48,29,41,27,"storedUser"],[48,39,41,37],[48,40,41,38],[48,41,41,39],[50,10,43,8],[51,10,44,8,"axios"],[51,15,44,13],[51,16,44,13,"default"],[51,23,44,13],[51,24,44,14,"defaults"],[51,32,44,22],[51,33,44,23,"headers"],[51,40,44,30],[51,41,44,31,"common"],[51,47,44,37],[51,48,44,38],[51,63,44,53],[51,64,44,54],[51,67,44,57],[51,77,44,67,"storedToken"],[51,88,44,78],[51,90,44,80],[52,8,45,6],[53,6,46,4],[53,7,46,5],[53,8,46,6],[53,15,46,13,"error"],[53,20,46,18],[53,22,46,20],[54,8,47,6,"console"],[54,15,47,13],[54,16,47,14,"error"],[54,21,47,19],[54,22,47,20],[54,43,47,41],[54,45,47,43,"error"],[54,50,47,48],[54,51,47,49],[55,6,48,4],[55,7,48,5],[55,16,48,14],[56,8,49,6,"setIsLoading"],[56,20,49,18],[56,21,49,19],[56,26,49,24],[56,27,49,25],[57,6,50,4],[58,4,51,2],[58,5,51,3],[59,4,53,2],[59,10,53,8,"login"],[59,15,53,13],[59,18,53,16],[59,24,53,16,"login"],[59,25,53,23,"email"],[59,30,53,36],[59,32,53,38,"password"],[59,40,53,54],[59,45,53,59],[60,6,54,4],[60,10,54,8],[61,8,55,6],[61,14,55,12,"response"],[61,22,55,20],[61,25,55,23],[61,31,55,29,"axios"],[61,36,55,34],[61,37,55,34,"default"],[61,44,55,34],[61,45,55,35,"post"],[61,49,55,39],[61,50,55,40],[61,53,55,43,"BACKEND_URL"],[61,64,55,54],[61,81,55,71],[61,83,55,73],[62,10,56,8,"email"],[62,15,56,13],[63,10,57,8,"password"],[64,8,58,6],[64,9,58,7],[64,10,58,8],[65,8,60,6],[65,14,60,12],[66,10,60,14,"access_token"],[66,22,60,26],[67,10,60,28,"user"],[67,14,60,32],[67,16,60,34,"userData"],[68,8,60,43],[68,9,60,44],[68,12,60,47,"response"],[68,20,60,55],[68,21,60,56,"data"],[68,25,60,60],[69,8,62,6,"setToken"],[69,16,62,14],[69,17,62,15,"access_token"],[69,29,62,27],[69,30,62,28],[70,8,63,6,"setUser"],[70,15,63,13],[70,16,63,14,"userData"],[70,24,63,22],[70,25,63,23],[71,8,65,6],[71,14,65,12,"AsyncStorage"],[71,26,65,24],[71,27,65,24,"default"],[71,34,65,24],[71,35,65,25,"setItem"],[71,42,65,32],[71,43,65,33],[71,54,65,44],[71,56,65,46,"access_token"],[71,68,65,58],[71,69,65,59],[72,8,66,6],[72,14,66,12,"AsyncStorage"],[72,26,66,24],[72,27,66,24,"default"],[72,34,66,24],[72,35,66,25,"setItem"],[72,42,66,32],[72,43,66,33],[72,53,66,43],[72,55,66,45,"JSON"],[72,59,66,49],[72,60,66,50,"stringify"],[72,69,66,59],[72,70,66,60,"userData"],[72,78,66,68],[72,79,66,69],[72,80,66,70],[73,8,68,6,"axios"],[73,13,68,11],[73,14,68,11,"default"],[73,21,68,11],[73,22,68,12,"defaults"],[73,30,68,20],[73,31,68,21,"headers"],[73,38,68,28],[73,39,68,29,"common"],[73,45,68,35],[73,46,68,36],[73,61,68,51],[73,62,68,52],[73,65,68,55],[73,75,68,65,"access_token"],[73,87,68,77],[73,89,68,79],[74,6,69,4],[74,7,69,5],[74,8,69,6],[74,15,69,13,"error"],[74,20,69,23],[74,22,69,25],[75,8,70,6],[75,14,70,12],[75,18,70,16,"Error"],[75,23,70,21],[75,24,70,22,"error"],[75,29,70,27],[75,30,70,28,"response"],[75,38,70,36],[75,40,70,38,"data"],[75,44,70,42],[75,46,70,44,"detail"],[75,52,70,50],[75,56,70,54],[75,70,70,68],[75,71,70,69],[76,6,71,4],[77,4,72,2],[77,5,72,3],[78,4,74,2],[78,10,74,8,"logout"],[78,16,74,14],[78,19,74,17],[78,25,74,17,"logout"],[78,26,74,17],[78,31,74,29],[79,6,75,4,"setToken"],[79,14,75,12],[79,15,75,13],[79,19,75,17],[79,20,75,18],[80,6,76,4,"setUser"],[80,13,76,11],[80,14,76,12],[80,18,76,16],[80,19,76,17],[81,6,77,4],[81,12,77,10,"AsyncStorage"],[81,24,77,22],[81,25,77,22,"default"],[81,32,77,22],[81,33,77,23,"removeItem"],[81,43,77,33],[81,44,77,34],[81,55,77,45],[81,56,77,46],[82,6,78,4],[82,12,78,10,"AsyncStorage"],[82,24,78,22],[82,25,78,22,"default"],[82,32,78,22],[82,33,78,23,"removeItem"],[82,43,78,33],[82,44,78,34],[82,54,78,44],[82,55,78,45],[83,6,79,4],[83,13,79,11,"axios"],[83,18,79,16],[83,19,79,16,"default"],[83,26,79,16],[83,27,79,17,"defaults"],[83,35,79,25],[83,36,79,26,"headers"],[83,43,79,33],[83,44,79,34,"common"],[83,50,79,40],[83,51,79,41],[83,66,79,56],[83,67,79,57],[84,4,80,2],[84,5,80,3],[85,4,82,2],[85,24,83,4],[85,28,83,4,"_reactJsxDevRuntime"],[85,47,83,4],[85,48,83,4,"jsxDEV"],[85,54,83,4],[85,56,83,5,"AuthContext"],[85,67,83,16],[85,68,83,17,"Provider"],[85,76,83,25],[86,6,83,26,"value"],[86,11,83,31],[86,13,83,33],[87,8,83,35,"user"],[87,12,83,39],[88,8,83,41,"token"],[88,13,83,46],[89,8,83,48,"login"],[89,13,83,53],[90,8,83,55,"logout"],[90,14,83,61],[91,8,83,63,"isLoading"],[92,6,83,73],[92,7,83,75],[93,6,83,75,"children"],[93,14,83,75],[93,16,84,7,"children"],[94,4,84,15],[95,6,84,15,"fileName"],[95,14,84,15],[95,16,84,15,"_jsxFileName"],[95,28,84,15],[96,6,84,15,"lineNumber"],[96,16,84,15],[97,6,84,15,"columnNumber"],[97,18,84,15],[98,4,84,15],[98,11,85,26],[98,12,85,27],[99,2,87,0],[99,3,87,1],[100,2,89,7],[100,8,89,13,"useAuth"],[100,15,89,20],[100,18,89,23,"useAuth"],[100,19,89,23],[100,24,89,29],[101,4,90,2],[101,10,90,8,"context"],[101,17,90,15],[101,20,90,18],[101,24,90,18,"useContext"],[101,30,90,28],[101,31,90,28,"useContext"],[101,41,90,28],[101,43,90,29,"AuthContext"],[101,54,90,40],[101,55,90,41],[102,4,91,2],[102,8,91,6,"context"],[102,15,91,13],[102,20,91,18,"undefined"],[102,29,91,27],[102,31,91,29],[103,6,92,4],[103,12,92,10],[103,16,92,14,"Error"],[103,21,92,19],[103,22,92,20],[103,67,92,65],[103,68,92,66],[104,4,93,2],[105,4,94,2],[105,11,94,9,"context"],[105,18,94,16],[106,2,95,0],[106,3,95,1],[107,0,95,2],[107,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;qECwB;YCK;GDE;yBEE;GFiB;gBGE;GHmB;iBIE;GJM;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}